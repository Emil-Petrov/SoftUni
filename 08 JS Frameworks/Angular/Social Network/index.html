<!DOCTYPE html >
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet">
    <script type="text/javascript" src="js/libs/angular.js"></script>
    <script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="styles/main.css"/>
    <style>


        .comment-container > p {
            text-align: center;
        }

        .comment-container {
            width: 100%;
            margin: 0 0 0 auto;
        }

        .comment-container {
            background: #f6f6f6;
            height: 45px;
        }

        .comments > div > p {
            vertical-align: middle;
            background: #e8e8e8;
            border: 1px solid #e5e5e5;
            padding-bottom: 15px;
            padding-top: 15px;
        }

        .comment-container > div > .panel-heading > h4 {
            display: inline-block;
        }

        .comments .panel-heading {
            background: black;
        }

        .comments p {
            margin: 0;
        }

        p.panel-content {
            align-content: center;
            vertical-align: middle;
            background: #e8e8e8;
            border: 5px solid #e7e7e7;
            padding-bottom: 15px;
            padding-top: 15px;
        }

        .comments .btn {
            max-width: 60px;
            position: relative;
            right: -405px;
            top: -49px;;
        }

        .comments .like-btn{
            background: #50cf38;
        }

        .comments .unlike-btn{
            background: #ff863a;
        }

        .comments .edit-btn{
            background: #c1ac3e
        }

        .comments .delete-btn{
            background: #f44139;
        }

        .post-container .panel-footer{
            background: #5f6ac8;
        }

        .post-type {
            float: right;
            color: #aaaaaa;
        }

        .comment-author-profile-picture{
            position: relative;
            top: -5px;
            left: -5px;
            max-width: 35px;
            max-height: 35px;
            border-radius: 50%;
        }
        .likes-count{
            position: relative;
            top: -45px;
            right: -375px;
            color: rgb(153, 153, 153);
        }
    </style>
</head>
<body ng-app="socialNetwork">
<ng-include src="'templates/header.html'"></ng-include>
<h1>Here goes nothing!</h1>

<h1>SPLIT THIS WHOLE THING</h1>
<div ng-controller="loginController">
    <input ng-model="username" type="text"/>
    <input ng-model="password" type="text"/>
    <div class="btn" ng-click="login()">LOGIN</div>
</div>
<div ng-controller="newsFeedController" class="col-xs-offset-2">
    <div class="post-container" ng-repeat="post in feed">
        <div class="row">
            <div class="col-xs-7">
                <div class="panel panel-default panel-google-plus">
                    <div class="dropdown">
                    <span class="dropdown-toggle" type="button" data-toggle="dropdown">
                        <span class="[ glyphicon glyphicon-chevron-down ]"></span>
                    </span>
                        <ul class="dropdown-menu" role="menu">
                            <li role="presentation">
                                <a role="menuitem" tabindex="-1" href="#/users/{{post.author.username}}">View
                                    Profile</a>
                            </li>
                            <li role="presentation" class="divider"></li>
                            <li role="presentation">
                                <a role="menuitem" tabindex="-1" href="#">Another action</a>
                            </li>
                        </ul>
                    </div>
                    <div class="panel-heading">
                        <img class="[ img-circle pull-left ]" ng-src="{{post.author.profileImageData}}"/>
                        <h3>{{post.author.name}}</h3>
                        <h5><span>Posted on</span> - <span>{{post.date | date: 'medium'}}</span></h5>
                    </div>
                    <div class="panel-body">
                        <p class="panel-content">{{post.postContent}}</p>
                    </div>
                    <div class="comments" ng-repeat="comment in post.comments" id="comment-{{comment.id}}">
                        <div class="comment-container">
                            <div class="panel-heading">
                                <img class="comment-author-profile-picture" ng-src="{{comments.author.profileImageData || 'http://placehold.it/50x50'}}"/>
                                <h4>Posted by
                                    <a href="#/users/{{comment.author.username}}" target="_blank">{{comment.author.name}}</a>
                                    <span> on - {{comment.date | date: 'medium'}}</span>
                                </h4>
                                <span class="post-type">comment</span>
                            </div>
                            <span class="likes-count"><i class="glyphicon glyphicon-thumbs-up"></i> {{comment.likesCount}}</span>
                            <span class="like-btn btn" ng-show="!comment.liked" ng-click="likeComment(post.id, comment)">Like</span>
                            <span class="unlike-btn btn" ng-show="comment.liked" ng-click="unlikeComment(post.id, comment)">Unlike</span>
                            <span class="edit-btn btn" ng-show="comment.author.username == currentUserUsername">Edit</span>
                            <span class="delete-btn btn" ng-show="comment.author.username == currentUserUsername" ng-click="deleteComments(post, comment.id, $index)">Delete</span>
                        </div>
                        <p class="panel-content">{{comment.commentContent}}</p>
                    </div>
                    <div class="panel-footer">
                        <button type="button" class="[ btn btn-default ]">+1</button>
                        <div class="input-placeholder" ng-click="showCommentBox(post.id)">Add a comment...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--app-->
<script type="text/javascript" src="js/app.js"></script>
<!--services-->
<script type="text/javascript" src="js/services/user.js"></script>
<script type="text/javascript" src="js/services/profile.js"></script>
<script type="text/javascript" src="js/services/utils.js"></script>
<script type="text/javascript" src="js/services/comments.js"></script>
<script type="text/javascript" src="js/services/posts.js"></script>
<!--controllers-->
<script type="text/javascript" src="js/controllers/login.js"></script>
<script type="text/javascript" src="js/controllers/register.js"></script>
<script type="text/javascript" src="js/controllers/header.js"></script>
<script type="text/javascript" src="js/controllers/editProfile.js"></script>
<script type="text/javascript" src="js/controllers/myFriends.js"></script>
<script type="text/javascript" src="js/controllers/changePassword.js"></script>
<script type="text/javascript" src="js/controllers/newsFeed.js"></script>
<!--<script>-->
<!--$(function () {-->
<!--$('.panel-google-plus > .panel-footer > .input-placeholder, .panel-google-plus > .panel-google-plus-comment > .panel-google-plus-textarea > button[type="reset"]').on('click', function (event) {-->
<!--var $panel = $(this).closest('.panel-google-plus');-->
<!--$comment = $panel.find('.panel-google-plus-comment');-->

<!--$comment.find('.btn:first-child').addClass('disabled');-->
<!--$comment.find('textarea').val('');-->

<!--$panel.toggleClass('panel-google-plus-show-comment');-->

<!--if ($panel.hasClass('panel-google-plus-show-comment')) {-->
<!--$comment.find('textarea').focus();-->
<!--}-->
<!--});-->
<!--$('.panel-google-plus-comment > .panel-google-plus-textarea > textarea').on('keyup', function (event) {-->
<!--var $comment = $(this).closest('.panel-google-plus-comment');-->

<!--$comment.find('button[type="submit"]').addClass('disabled');-->
<!--if ($(this).val().length >= 1) {-->
<!--$comment.find('button[type="submit"]').removeClass('disabled');-->
<!--}-->
<!--});-->
<!--});-->
<!--</script>-->
</body>
</html>

